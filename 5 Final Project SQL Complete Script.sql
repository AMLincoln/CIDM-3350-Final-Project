CREATE DATABASE FinalProject;
USE FinalProject;

CREATE TABLE BIOTA_T
	(BIOTA_CODE INTEGER NOT NULL,
    SCIENTIFIC_NAME VARCHAR(75) NOT NULL,
    COMMON_NAME VARCHAR(75) NOT NULL,
    BIOTA_TYPE CHAR NOT NULL,
    CONSTRAINT BIOTA_PK PRIMARY KEY (BIOTA_CODE));
     
ALTER TABLE BIOTA_T MODIFY BIOTA_CODE DECIMAL NOT NULL;
ALTER TABLE BIOTA_T ADD CONSTRAINT BIOTA_CHK CHECK (BIOTA_TYPE = 'I' OR BIOTA_TYPE = "P");
ALTER TABLE BIOTA_T MODIFY COLUMN BIOTA_CODE DECIMAL (10,2) NOT NULL;
ALTER TABLE BIOTA_T MODIFY COLUMN BIOTA_TYPE CHAR;

CREATE TABLE INVASIVE_PLANT_T
	(IP_BIOTA_CODE INTEGER NOT NULL,
	CONSTRAINT INVASIVE_PLANT_PK PRIMARY KEY (IP_BIOTA_CODE));
 
ALTER TABLE INVASIVE_PLANT_T MODIFY IP_BIOTA_CODE DECIMAL (10,2) NOT NULL; 
ALTER TABLE INVASIVE_PLANT_T ADD CONSTRAINT INVASIVE_PLANT_FK FOREIGN KEY (IP_BIOTA_CODE) REFERENCES BIOTA_T (BIOTA_CODE);
ALTER TABLE INVASIVE_PLANT_T DROP CONSTRAINT INVASIVE_PLANT_FK;   
    
CREATE TABLE PROTECTED_WILDLIFE_T
	(PW_BIOTA_CODE DECIMAL NOT NULL,
    PROTECTED_STATUS VARCHAR(50) NOT NULL,
    POPULATION_DENSITY INTEGER,
    CONSTRAINT PROTECTED_WILDLIFE_PK PRIMARY KEY (PW_BIOTA_CODE),
    CONSTRAINT PROTECTED_WILDLIFE_FK FOREIGN KEY (PW_BIOTA_CODE) REFERENCES BIOTA_T (BIOTA_CODE));

ALTER TABLE PROTECTED_WILDLIFE_T DROP COLUMN POPULATION_DENSITY;
ALTER TABLE PROTECTED_WILDLIFE_T DROP CONSTRAINT PROTECTED_WILDLIFE_FK;  
ALTER TABLE PROTECTED_WILDLIFE_T MODIFY COLUMN PW_BIOTA_CODE DECIMAL (10,2) NOT NULL; 
ALTER TABLE PROTECTED_WILDLIFE_T ADD CONSTRAINT PROTECTED_WILDLIFE_FK FOREIGN KEY (PW_BIOTA_CODE) REFERENCES BIOTA_T (BIOTA_CODE);

CREATE TABLE FIRE_DISTURBANCE_T
	(FIRE_ID INTEGER NOT NULL,
    FIRE_NAME VARCHAR(50) NOT NULL,
    FIRE_CODE INTEGER NOT NULL,
    DISCOVERY_DATE DATE NOT NULL,
    DISCOVERY_TIME TIME NOT NULL,
    NWCG_CAUSE_CLASSIFICATION VARCHAR(25) NOT NULL,
    NWCG_GENERAL_CAUSE VARCHAR(75) NOT NULL,
    MEDIAL_LATITUDE DECIMAL(8, 6) NOT NULL,
    MEDIAL_LONGITUDE DECIMAL (9,6) NOT NULL,
    FIRE_DISTRIBUTION_RADIUS DECIMAL NOT NULL,
    CONSTRAINT FIRE_DISTURBANCE_PK PRIMARY KEY (FIRE_ID));
    
ALTER TABLE FIRE_DISTURBANCE_T MODIFY MEDIAL_LATITUDE DECIMAL(8,6);
ALTER TABLE FIRE_DISTURBANCE_T MODIFY MEDIAL_LONGITUDE DECIMAL(9,6);
ALTER TABLE FIRE_DISTURBANCE_T MODIFY FIRE_DISTRIBUTION_RADIUS DECIMAL (10,2);  
ALTER TABLE FIRE_DISTURBANCE_T ADD COLUMN FIRE_STATUS VARCHAR(20) NOT NULL;

CREATE TABLE FUEL_TREATMENT_T
	(FUEL_TREATMENT_ID INTEGER AUTO_INCREMENT NOT NULL,
    ACTIVITY_CODE INTEGER NOT NULL,
    ACTIVITY VARCHAR(75) NOT NULL,
    CONSTRAINT FUEL_TREATMENT_PK PRIMARY KEY (FUEL_TREATMENT_ID));
    
CREATE TABLE FOREST_UNIT_T
	(FOREST_UNIT_CODE VARCHAR(19) NOT NULL,
    PARENT_FOREST_NAME VARCHAR(75) NOT NULL,
    OWNERSHIP_CODE VARCHAR(3) NOT NULL,
    LAND_SUITABILITY_CLASS_CODE INTEGER NOT NULL,
    DISTANCE_TO_ROADS DECIMAL NOT NULL,
    DISTANCE_TO_POWERLINES DECIMAL NOT NULL,
    DISTANCE_TO_SETTLEMENTS DECIMAL NOT NULL,
    VEGETATION_TYPE VARCHAR(50) NOT NULL,
    BIOMASS_DENSITY DECIMAL NOT NULL,
    ISOTHERMALITY DECIMAL NOT NULL,
    ELEVATION INTEGER NOT NULL, 
    IMPERVIOUSNESS INTEGER NOT NULL,
    PRECIPITATION_SEASONALITY DECIMAL(3,2) NOT NULL,
    FUEL_MODEL_CODE INTEGER NOT NULL,
    AVERAGE_TEMPERATURE DECIMAL (5,2),
    AVERAGE_PRECIPITATION DECIMAL (4,2),
    CONSTRAINT FOREST_UNIT_CHK CHECK (PRECIPITATION_SEASONALITY >= 0 AND PRECIPITATION_SEASONALITY <= 1.20),
    CONSTRAINT FOREST_UNIT_CHK2 CHECK (IMPERVIOUSNESS >= 0 AND IMPERVIOUSNESS <= 100),
    CONSTRAINT FOREST_UNIT_CHK3 CHECK (FUEL_MODEL_CODE >=1 AND FUEL_MODEL_CODE <=13),
    CONSTRAINT FOREST_UNIT_PK PRIMARY KEY (FOREST_UNIT_CODE));

ALTER TABLE FOREST_UNIT_T MODIFY COLUMN DISTANCE_TO_ROADS DECIMAL (10,2); 
ALTER TABLE FOREST_UNIT_T MODIFY COLUMN DISTANCE_TO_POWERLINES DECIMAL (10,2); 
ALTER TABLE FOREST_UNIT_T MODIFY COLUMN DISTANCE_TO_SETTLEMENTS DECIMAL (10,2); 
ALTER TABLE FOREST_UNIT_T MODIFY COLUMN BIOMASS_DENSITY DECIMAL (10,2); 
ALTER TABLE FOREST_UNIT_T MODIFY COLUMN ISOTHERMALITY DECIMAL (10,2); 
ALTER TABLE FOREST_UNIT_T ADD CONSTRAINT FOREST_UNIT_CHK4 CHECK (ISOTHERMALITY >= 0 AND ISOTHERMALITY <= 100);   
ALTER TABLE FOREST_UNIT_T DROP COLUMN OWNERSHIP_CODE;
ALTER TABLE FOREST_UNIT_T ADD COLUMN OWNERSHIP_NAME VARCHAR(75);

CREATE TABLE PARTY_T
	(PARTY_ID INTEGER AUTO_INCREMENT NOT NULL,
	PARTY_NAME VARCHAR(75) NOT NULL,
	PARTY_TYPE CHAR NOT NULL,
	CONSTRAINT PARTY_PK PRIMARY KEY (PARTY_ID),
	CONSTRAINT PARTY_CHK CHECK (PARTY_TYPE = 'G' OR PARTY_TYPE = "N"));
        
CREATE TABLE FIREFIGHTING_RESOURCE_T
	(RESOURCE_ID INTEGER AUTO_INCREMENT NOT NULL,
	RESOURCE_CODE INTEGER NOT NULL,
	RESOURCE_CLASSIFICATION CHAR,
	CONSTRAINT FIREFIGHTING_RESOURCE_CHK CHECK (RESOURCE_CLASSIFICATION = 'R' OR RESOURCE_CLASSIFICATION = 'F' OR RESOURCE_CLASSIFICATION = 'S' OR RESOURCE_CLASSIFICATION = 'E' OR RESOURCE_CLASSIFICATION = 'P'),
	CONSTRAINT FIREFIGHTING_RESOURCE_PK PRIMARY KEY (RESOURCE_ID));
        
CREATE TABLE FOREST_FIRE_T
	(FIRE_ID INTEGER NOT NULL,
	FOREST_UNIT_CODE VARCHAR(19) NOT NULL,
	PERCENTAGE_AREA_AFFECTED INTEGER,
	CONSTRAINT FOREST_FIRE_PK PRIMARY KEY (FIRE_ID, FOREST_UNIT_CODE),
	CONSTRAINT FOREST_FIRE_FK FOREIGN KEY (FIRE_ID) REFERENCES FIRE_DISTURBANCE_T (FIRE_ID),
	CONSTRAINT FOREST_FIRE_FK2 FOREIGN KEY (FOREST_UNIT_CODE) REFERENCES FOREST_UNIT_T (FOREST_UNIT_CODE));
        
ALTER TABLE FOREST_FIRE_T ADD CONSTRAINT FOREST_FIRE_CHK CHECK (PERCENTAGE_AREA_AFFECTED >=0 AND PERCENTAGE_AREA_AFFECTED <=100);

CREATE TABLE FIRE_CONTAINMENT_PROCEDURE_T
	(FIRE_ID INTEGER NOT NULL,
	PARTY_ID INTEGER NOT NULL,
	RESOURCE_ID INTEGER NOT NULL,
	PROCEDURE_DATE DATE NOT NULL,
	PROCEDURE_TIME TIME NOT NULL,
	PROCEDURE_COST DECIMAL,
	CONSTRAINT FIRE_CONTAINMENT_PROCEDURE_PK PRIMARY KEY (FIRE_ID, PARTY_ID, RESOURCE_ID, PROCEDURE_DATE, PROCEDURE_TIME),
	CONSTRAINT FIRE_CONTAINMENT_PROCEDURE_FK FOREIGN KEY (FIRE_ID) REFERENCES FIRE_DISTURBANCE_T (FIRE_ID),
	CONSTRAINT FIRE_CONTAINMENT_PROCEDURE_FK2 FOREIGN KEY (PARTY_ID) REFERENCES PARTY_T (PARTY_ID),
	CONSTRAINT FIRE_CONTAINMENT_PROCEDURE_FK3 FOREIGN KEY (RESOURCE_ID) REFERENCES FIREFIGHTING_RESOURCE_T (RESOURCE_ID));

ALTER TABLE FIRE_CONTAINMENT_PROCEDURE_T MODIFY COLUMN PROCEDURE_COST DECIMAL (15,2); 
       
CREATE TABLE FUEL_TREATMENT_HISTORY_T
	(FUEL_SERVICE_ID INTEGER AUTO_INCREMENT NOT NULL,
	FOREST_UNIT_CODE VARCHAR(19) NOT NULL, 
	FUEL_TREATMENT_ID INTEGER NOT NULL,
	SERVICE_STATUS VARCHAR(25) NOT NULL,
	PERCENTAGE_OF_UNITS_COMPLETED INTEGER NOT NULL,
	FUEL_TREATMENT_START_DATE DATE NOT NULL,
	FUEL_TREATMENT_END_DATE DATE,
	CONSTRAINT FUEL_TREATMENT_HISTORY_CHK CHECK (PERCENTAGE_OF_UNITS_COMPLETED >= 0 AND PERCENTAGE_OF_UNITS_COMPLETED <= 100),
	CONSTRAINT FUEL_TREATMENT_HISTORY_PK PRIMARY KEY (FUEL_SERVICE_ID),
	CONSTRAINT FUEL_TREATMENT_HISTORY_FK FOREIGN KEY (FOREST_UNIT_CODE) REFERENCES FOREST_UNIT_T (FOREST_UNIT_CODE),
	CONSTRAINT FUEL_TREATMENT_HISTORY_FK2 FOREIGN KEY (FUEL_TREATMENT_ID) REFERENCES FUEL_TREATMENT_T (FUEL_TREATMENT_ID));
       
CREATE TABLE INVASIVE_PLANT_INFESTATION_T
	(INFESTATION_ID INTEGER NOT NULL,
	IP_BIOTA_CODE DECIMAL NOT NULL,
	FOREST_UNIT_CODE VARCHAR(19) NOT NULL,
	TOTAL_AREA_INFESTED DECIMAL NOT NULL,
	INFESTED_AREA_PERCENTAGE INTEGER NOT NULL,
	CONSTRAINT INVASIVE_PLANT_INFESTATION_CHK CHECK (TOTAL_AREA_INFESTED >= 0 AND TOTAL_AREA_INFESTED <= 100),
	CONSTRAINT INVASIVE_PLANT_INFESTATION_PK PRIMARY KEY (INFESTATION_ID),
	CONSTRAINT INVASIVE_PLANT_INFESTATION_FK FOREIGN KEY (IP_BIOTA_CODE) REFERENCES INVASIVE_PLANT_T (IP_BIOTA_CODE),
	CONSTRAINT INVASIVE_PLANT_INFESTATION_FK2 FOREIGN KEY (FOREST_UNIT_CODE) REFERENCES FOREST_UNIT_T (FOREST_UNIT_CODE));

ALTER TABLE INVASIVE_PLANT_INFESTATION_T DROP CONSTRAINT INVASIVE_PLANT_INFESTATION_FK;  
ALTER TABLE INVASIVE_PLANT_INFESTATION_T MODIFY COLUMN IP_BIOTA_CODE DECIMAL (10,2) NOT NULL;
ALTER TABLE INVASIVE_PLANT_INFESTATION_T ADD CONSTRAINT INVASIVE_PLANT_INFESTATION_FK FOREIGN KEY (IP_BIOTA_CODE) REFERENCES INVASIVE_PLANT_T (IP_BIOTA_CODE);
    
CREATE TABLE PROTECTED_WILDLIFE_HABITAT_T
	(PW_BIOTA_CODE DECIMAL NOT NULL,
	FOREST_UNIT_CODE VARCHAR(19) NOT NULL,
	POPULATION_DENSITY DECIMAL NOT NULL,
	CONSTRAINT PROTECTED_WILDLIFE_HABITAT_PK PRIMARY KEY (PW_BIOTA_CODE, FOREST_UNIT_CODE),
	CONSTRAINT PROTECTED_WILDLIFE_HABITAT_FK FOREIGN KEY (PW_BIOTA_CODE) REFERENCES BIOTA_T (BIOTA_CODE),
	CONSTRAINT PROTECTED_WILDLIFE_HABITAT_FK2 FOREIGN KEY (FOREST_UNIT_CODE) REFERENCES FOREST_UNIT_T (FOREST_UNIT_CODE));

ALTER TABLE PROTECTED_WILDLIFE_HABITAT_T DROP CONSTRAINT PROTECTED_WILDLIFE_HABITAT_FK;   
ALTER TABLE PROTECTED_WILDLIFE_HABITAT_T MODIFY COLUMN PW_BIOTA_CODE DECIMAL (10,2) NOT NULL;
ALTER TABLE PROTECTED_WILDLIFE_HABITAT_T ADD CONSTRAINT PROTECTED_WILDLIFE_HABITAT_FK FOREIGN KEY (PW_BIOTA_CODE) REFERENCES PROTECTED_WILDLIFE_T (PW_BIOTA_CODE);
ALTER TABLE PROTECTED_WILDLIFE_HABITAT_T MODIFY COLUMN POPULATION_DENSITY DECIMAL (10,2) NOT NULL;

CREATE TABLE WEATHER_T
	(FOREST_UNIT_CODE VARCHAR(19) NOT NULL,
    COLLECTION_DATE DATE NOT NULL,
    COLLECTION_TIME TIME NOT NULL, 
    TEMPERATURE DECIMAL (5,2) NOT NULL, 
    PRECIPITATION DECIMAL (4,2) NOT NULL,
    WIND_SPEED INTEGER NOT NULL,
    CONSTRAINT WEATHER_T_PK PRIMARY KEY (FOREST_UNIT_CODE, COLLECTION_DATE, COLLECTION_TIME),
    CONSTRAINT WEATHER_FK FOREIGN KEY (FOREST_UNIT_CODE) REFERENCES FOREST_UNIT_T (FOREST_UNIT_CODE));

CREATE TABLE FOREST_MANAGEMENT_T
	(PARTY_ID INTEGER NOT NULL,
    FOREST_UNIT_CODE VARCHAR(19) NOT NULL,
    CONSTRAINT FOREST_MANAGEMENT_PK PRIMARY KEY (FOREST_UNIT_CODE, PARTY_ID),
    CONSTRAINT FOREST_MANAGEMENT_FK FOREIGN KEY (FOREST_UNIT_CODE) REFERENCES FOREST_UNIT_T (FOREST_UNIT_CODE),
    CONSTRAINT FOREST_MANAGEMENT_FK2 FOREIGN KEY (PARTY_ID) REFERENCES PARTY_T (PARTY_ID));
    
CREATE TABLE COORDINATING_UNIT_T
	(PARTY_ID INTEGER NOT NULL,
    COORDINATING_UNIT_NAME VARCHAR(75) NOT NULL,
    COORDINATING_UNIT_CONTACT VARCHAR(75) NOT NULL,
    COORDINATING_UNIT_PHONE_NUMBER VARCHAR(50) NOT NULL,
    COORDINATING_UNIT_EMAIL VARCHAR(75) NOT NULL,
    CONSTRAINT COORDINATING_UNIT_PK PRIMARY KEY (PARTY_ID, COORDINATING_UNIT_NAME),
    CONSTRAINT COORDINATING_UNIT_FK FOREIGN KEY (PARTY_ID) REFERENCES PARTY_T (PARTY_ID));
 
CREATE TABLE NON_GOVERNMENT_ORGANIZATION_T
	(NG_PARTY_ID INTEGER NOT NULL,
    ORGANIZATION_CLASSIFICATION VARCHAR(50) NOT NULL,
    CONSTRAINT NON_GOVERNMENT_ORGANIZATION_PK PRIMARY KEY (NG_PARTY_ID),
    CONSTRAINT NON_GOVERNMENT_ORGANIZATION_FK FOREIGN KEY (NG_PARTY_ID) REFERENCES PARTY_T (PARTY_ID));
    
CREATE TABLE GOVERNMENT_ORGANIZATION_T
	(G_PARTY_ID INTEGER NOT NULL,
    LEVEL_OF_GOVERNANCE VARCHAR(50) NOT NULL,
    CONSTRAINT GOVERNMENT_ORGANIZATION_PK PRIMARY KEY (G_PARTY_ID),
    CONSTRAINT GOVERNMENT_ORGANIZATION_FK FOREIGN KEY (G_PARTY_ID) REFERENCES PARTY_T (PARTY_ID));

CREATE TABLE GOVERNMENT_RESOURCE_T
	(G_PARTY_ID INTEGER NOT NULL,
    RESOURCE_ID INTEGER NOT NULL,
    CONSTRAINT GOVERNMENT_RESOURCE_PK PRIMARY KEY (G_PARTY_ID, RESOURCE_ID),
    CONSTRAINT GOVERNMENT_RESOURCE_FK FOREIGN KEY (G_PARTY_ID) REFERENCES GOVERNMENT_ORGANIZATION_T (G_PARTY_ID),
    CONSTRAINT GOVERNMENT_RESOURCE_FK2 FOREIGN KEY (RESOURCE_ID) REFERENCES FIREFIGHTING_RESOURCE_T (RESOURCE_ID));
 
CREATE TABLE FOREST_RESOURCE_T
	(FOREST_UNIT_CODE VARCHAR(19) NOT NULL,
    RESOURCE_ID INTEGER NOT NULL,
    CONSTRAINT FOREST_RESOURCE_PK PRIMARY KEY (FOREST_UNIT_CODE, RESOURCE_ID),
    CONSTRAINT FOREST_RESOURCE_FK FOREIGN KEY (FOREST_UNIT_CODE) REFERENCES FOREST_UNIT_T (FOREST_UNIT_CODE),
    CONSTRAINT FOREST_RESOURCE_FK2 FOREIGN KEY (RESOURCE_ID) REFERENCES FIREFIGHTING_RESOURCE_T (RESOURCE_ID));

CREATE TABLE CONTRACT_T
	(CONTRACT_ID VARCHAR(50) NOT NULL,
    RESOURCE_ID INTEGER NOT NULL,
    NG_PARTY_ID INTEGER NOT NULL, 
    CONTRACT_TYPE VARCHAR(75) NOT NULL,
    CONTRACT_SUBTYPE VARCHAR(75),
    CONTRACT_START_DATE DATE NOT NULL,
    CONTRACT_END_DATE DATE NOT NULL,
    CONSTRAINT CONTRACT_PK PRIMARY KEY (CONTRACT_ID, RESOURCE_ID),
    CONSTRAINT CONTRACT_FK FOREIGN KEY (NG_PARTY_ID) REFERENCES NON_GOVERNMENT_ORGANIZATION_T (NG_PARTY_ID),
    CONSTRAINT CONTRACT_FK2 FOREIGN KEY (RESOURCE_ID) REFERENCES FIREFIGHTING_RESOURCE_T (RESOURCE_ID));

CREATE TABLE ROAD_T
	(R_RESOURCE_ID INTEGER NOT NULL,
    ROAD_DESIGNATION VARCHAR(50) NOT NULL,
    ROAD_CLASSIFICATION VARCHAR(50) NOT NULL,
    ROAD_MAINTENANCE_LEVEL INTEGER NOT NULL,
    ROAD_TRAFFIC_SERVICE_LEVEL CHAR NOT NULL, 
    ROAD_STATUS VARCHAR(25) NOT NULL,
    CONSTRAINT ROAD_PK PRIMARY KEY (R_RESOURCE_ID),
    CONSTRAINT ROAD_FK FOREIGN KEY (R_RESOURCE_ID) REFERENCES FIREFIGHTING_RESOURCE_T (RESOURCE_ID),
    CONSTRAINT ROAD_CHK CHECK (ROAD_MAINTENANCE_LEVEL >= 1 AND ROAD_MAINTENANCE_LEVEL <= 5),
    CONSTRAINT ROAD_CHK2 CHECK (ROAD_TRAFFIC_SERVICE_LEVEL >= 'A' AND ROAD_TRAFFIC_SERVICE_LEVEL <= 'D'),
    CONSTRAINT ROAD_CHK3 CHECK (ROAD_STATUS = 'OPEN' OR ROAD_STATUS = 'CLOSED - MAINTENANCE' OR ROAD_STATUS = 'CLOSED - HAZARD' OR ROAD_STATUS = 'DECOMMISSIONED'));
    
CREATE TABLE FACILITY_T
	(F_RESOURCE_ID INTEGER NOT NULL,
    FACILITY_NAME VARCHAR(75) NOT NULL,
    FACILITY_TYPE VARCHAR(75) NOT NULL,
    FACILITY_ADDRESS VARCHAR(100) NOT NULL,
    FACILITY_FRONT_DESK_PHONE_NUMBER VARCHAR (50),
    FACILITY_USE VARCHAR(100) NOT NULL,
    CONSTRAINT FACILITY_PK PRIMARY KEY (F_RESOURCE_ID),
    CONSTRAINT FACILITY_FK FOREIGN KEY (F_RESOURCE_ID) REFERENCES FIREFIGHTING_RESOURCE_T (RESOURCE_ID));
    
CREATE TABLE REGULAR_FACILITY_OPERATION_TIME_T
	(F_RESOURCE_ID INTEGER NOT NULL,
    RF_DAY_OF_THE_WEEK VARCHAR(10) NOT NULL,
    REGULAR_FACILTIY_OPENING_TIME TIME NOT NULL,
    REGULAR_FACILITY_CLOSING_TIME TIME NOT NULL,
    CONSTRAINT REGULAR_FACILITY_OPERATION_TIME_PK PRIMARY KEY (F_RESOURCE_ID, RF_DAY_OF_THE_WEEK),
    CONSTRAINT REGULAR_FACILITY_OPERATION_TIME_FK FOREIGN KEY (F_RESOURCE_ID) REFERENCES FIREFIGHTING_RESOURCE_T (RESOURCE_ID));

ALTER TABLE REGULAR_FACILITY_OPERATION_TIME_T DROP CONSTRAINT REGULAR_FACILITY_OPERATION_TIME_FK;
ALTER TABLE REGULAR_FACILITY_OPERATION_TIME_T ADD CONSTRAINT REGULAR_FACILITY_OPERATION_TIME_FK FOREIGN KEY (F_RESOURCE_ID) REFERENCES FACILITY_T (F_RESOURCE_ID);

CREATE TABLE HOLIDAY_FACILITY_OPERATION_TIME_T
	(F_RESOURCE_ID INTEGER NOT NULL,
    F_DATE_OF_HOLIDAY DATE NOT NULL,
    HOLIDAY_FACILTIY_OPENING_TIME TIME NOT NULL,
    HOLIDAY_FACILITY_CLOSING_TIME TIME NOT NULL,
    CONSTRAINT HOLIDAY_FACILITY_OPERATION_TIME_PK PRIMARY KEY (F_RESOURCE_ID, F_DATE_OF_HOLIDAY),
    CONSTRAINT HOLIDAY_FACILITY_OPERATION_TIME_FK FOREIGN KEY (F_RESOURCE_ID) REFERENCES FACILITY_T (F_RESOURCE_ID));

CREATE TABLE SUPPLY_T
	(S_RESOURCE_ID INTEGER NOT NULL,
    SUPPLY_TYPE VARCHAR(75) NOT NULL,
    SUPPLY_QUANTITY INTEGER NOT NULL,
    SUPPLY_SOURCE VARCHAR(20) NOT NULL,
    SUPPLY_LOCATION VARCHAR(100) NOT NULL,
    CONSTRAINT SUPPLY_CHK CHECK (SUPPLY_SOURCE = 'NATURAL' OR SUPPLY_SOURCE = 'ORGANIZATION'),
    CONSTRAINT SUPPLY_PK PRIMARY KEY (S_RESOURCE_ID),
    CONSTRAINT SUPPLY_FK FOREIGN KEY (S_RESOURCE_ID) REFERENCES FIREFIGHTING_RESOURCE_T (RESOURCE_ID));

ALTER TABLE SUPPLY_T DROP COLUMN SUPPLY_QUANTITY;
    
CREATE TABLE EQUIPMENT_T
	(E_RESOURCE_ID INTEGER NOT NULL,
    SERIAL_NUMBER VARCHAR(50) NOT NULL,
    EQUIPMENT_CODE INTEGER NOT NULL,
    EQUIPMENT_DESCRIPTION VARCHAR(75) NOT NULL,
    EQUIPMENT_COST DECIMAL NOT NULL,
    EQUIPMENT_OPERATIONAL_STATUS VARCHAR(50) NOT NULL,
    EQUIPMENT_LOCATION VARCHAR(100) NOT NULL,
    CONSTRAINT EQUIPMENT_CHK CHECK (EQUIPMENT_OPERATIONAL_STATUS = 'OPERATIONAL' OR EQUIPMENT_OPERATIONAL_STATUS = 'UNDERGOING MAINTENANCE' OR EQUIPMENT_OPERATIONAL_STATUS = 'INOPERABLE'),
    CONSTRAINT EQUIPMENT_PK PRIMARY KEY (E_RESOURCE_ID),
    CONSTRAINT EQUIPMENT_FK FOREIGN KEY (E_RESOURCE_ID) REFERENCES FIREFIGHTING_RESOURCE_T (RESOURCE_ID));

ALTER TABLE EQUIPMENT_T MODIFY COLUMN EQUIPMENT_COST DECIMAL (10,2);

CREATE TABLE PERSONNEL_T
	(P_RESOURCE_ID INTEGER NOT NULL,
    PERSONNEL_NAME VARCHAR(75) NOT NULL,
    PERSONNEL_POSITION VARCHAR(75) NOT NULL,
    PERSONNEL_BASE_OF_OPERATIONS VARCHAR(75) NOT NULL,
    FIRE_PERSONNEL CHAR NOT NULL,
    CERTIFIED_PERSONNEL CHAR NOT NULL,
    USFS_EMPLOYEE CHAR NOT NULL,
    SUPERVISOR_ID INTEGER NOT NULL,
    CONSTRAINT PERSONNEL_CHK CHECK (FIRE_PERSONNEL = 'Y' OR FIRE_PERSONNEL = 'N'),
    CONSTRAINT PERSONNEL_CHK2 CHECK (CERTIFIED_PERSONNEL = 'Y' OR CERTIFIED_PERSONNEL = 'N'),
    CONSTRAINT PERSONNEL_CHK3 CHECK (USFS_EMPLOYEE = 'Y' OR USFS_EMPLOYEE = 'N'),
    CONSTRAINT PERSONNEL_PK PRIMARY KEY (P_RESOURCE_ID),
    CONSTRAINT PERSONNEL_FK FOREIGN KEY (SUPERVISOR_ID) REFERENCES PERSONNEL_T (P_RESOURCE_ID),
    CONSTRAINT PERSONNEL_FK2 FOREIGN KEY (P_RESOURCE_ID) REFERENCES FIREFIGHTING_RESOURCE_T (RESOURCE_ID));

ALTER TABLE PERSONNEL_T MODIFY COLUMN SUPERVISOR_ID INTEGER;  
  
CREATE TABLE PERSONNEL_PHONE_NUMBER_T
	(P_RESOURCE_ID INTEGER NOT NULL,
    PERSONNEL_PHONE_NUMBER VARCHAR(50) NOT NULL,
    CONSTRAINT PERSONNEL_PHONE_NUMBER_PK PRIMARY KEY (P_RESOURCE_ID, PERSONNEL_PHONE_NUMBER),
    CONSTRAINT PERSONNEL_PHONE_NUMBER_FK FOREIGN KEY (P_RESOURCE_ID) REFERENCES PERSONNEL_T (P_RESOURCE_ID));
    
CREATE TABLE PERSONNEL_EMAIL_T
	(P_RESOURCE_ID INTEGER NOT NULL,
    PERSONNEL_EMAIL VARCHAR(75) NOT NULL,
    CONSTRAINT PERSONNEL_EMAIL_PK PRIMARY KEY (P_RESOURCE_ID, PERSONNEL_EMAIL),
    CONSTRAINT PERSONNEL_EMAIL_FK FOREIGN KEY (P_RESOURCE_ID) REFERENCES PERSONNEL_T (P_RESOURCE_ID));

CREATE TABLE PERSONNEL_SEASONAL_AVAILABILITY_T
	(P_RESOURCE_ID INTEGER NOT NULL,
    PS_DAY_OF_THE_WEEK VARCHAR(10) NOT NULL,
    SEASONAL_SHIFT_START_TIME TIME NOT NULL,
    SEASONAL_SHIFT_END_TIME TIME NOT NULL,
    CONSTRAINT PERSONNEL_SEASONAL_AVAILABILITY_PK PRIMARY KEY (P_RESOURCE_ID, PS_DAY_OF_THE_WEEK),
    CONSTRAINT PERSONNEL_SEASONAL_AVAILABILITY_FK FOREIGN KEY (P_RESOURCE_ID) REFERENCES PERSONNEL_T (P_RESOURCE_ID));

CREATE TABLE PERSONNEL_OFF_SEASON_AVAILABILITY_T
	(P_RESOURCE_ID INTEGER NOT NULL,
    PO_DAY_OF_THE_WEEK VARCHAR(10) NOT NULL,
    OFFSEASON_SHIFT_START_TIME TIME NOT NULL,
    OFFSEASON_SHIFT_END_TIME TIME NOT NULL,
    CONSTRAINT PERSONNEL_OFF_SEASON_AVAILABILITY_T_PK PRIMARY KEY (P_RESOURCE_ID, PO_DAY_OF_THE_WEEK),
    CONSTRAINT PERSONNEL_OFF_SEASON_AVAILABILITY_T_FK FOREIGN KEY (P_RESOURCE_ID) REFERENCES PERSONNEL_T (P_RESOURCE_ID));
    
CREATE TABLE PERSONNEL_HOLIDAY_AVAILABILITY_T
	(P_RESOURCE_ID INTEGER NOT NULL,
    P_DATE_OF_HOLIDAY DATE NOT NULL,
    HOLIDAY_SHIFT_START_TIME TIME NOT NULL,
    HOLIDAY_SHIFT_END_TIME TIME NOT NULL,
    CONSTRAINT PERSONNEL_HOLIDAY_AVAILABILITY_PK PRIMARY KEY (P_RESOURCE_ID, P_DATE_OF_HOLIDAY),
    CONSTRAINT PERSONNEL_HOLIDAY_AVAILABILITY_FK FOREIGN KEY (P_RESOURCE_ID) REFERENCES PERSONNEL_T (P_RESOURCE_ID));

CREATE TABLE FIRE_PERSONNEL_T
	(F_PERSONNEL_ID INTEGER NOT NULL,
    FP_RANK VARCHAR(25) NOT NULL,
    YEARS_OF_EXPERIENCE INTEGER NOT NULL,
    CONSTRAINT FIRE_PERSONNEL_PK PRIMARY KEY (F_PERSONNEL_ID),
    CONSTRAINT FIRE_PERSONNEL_FK FOREIGN KEY (F_PERSONNEL_ID) REFERENCES PERSONNEL_T (P_RESOURCE_ID));
    
CREATE TABLE NWCG_QUALIFICATION_T
	(F_PERSONNEL_ID INTEGER NOT NULL,
    NWCG_QUALIFICATION VARCHAR(50) NOT NULL,
    QUALIFICATION_DATE DATE NOT NULL,
    CONSTRAINT NWCG_QUALIFICATION_PK PRIMARY KEY (F_PERSONNEL_ID, NWCG_QUALIFICATION, QUALIFICATION_DATE),
    CONSTRAINT NWCG_QUALIFICATIONL_FK FOREIGN KEY (F_PERSONNEL_ID) REFERENCES FIRE_PERSONNEL_T (F_PERSONNEL_ID));
    
CREATE TABLE CERTIFIED_PERSONNEL_T
	(C_PERSONNEL_ID INTEGER NOT NULL,
    CONSTRAINT CERTIFIED_PERSONNEL_PK PRIMARY KEY (C_PERSONNEL_ID),
    CONSTRAINT CERTIFIED_PERSONNEL_FK FOREIGN KEY (C_PERSONNEL_ID) REFERENCES PERSONNEL_T (P_RESOURCE_ID));
    
CREATE TABLE CERTIFIED_PERSONNEL_CERTIFICATION_T
	(C_PERSONNEL_ID INTEGER NOT NULL,
    CERTIFICATION VARCHAR(50) NOT NULL,
    CERTIFICATION_COMPLETION_DATE DATE NOT NULL,
    CONSTRAINT CERTIFIED_PERSONNEL_CERTIFICATION_PK PRIMARY KEY (C_PERSONNEL_ID, CERTIFICATION, CERTIFICATION_COMPLETION_DATE),
    CONSTRAINT CERTIFIED_PERSONNEL_CERTIFICATION_FK FOREIGN KEY (C_PERSONNEL_ID) REFERENCES CERTIFIED_PERSONNEL_T (C_PERSONNEL_ID));

CREATE TABLE CERTIFIED_PERSONNEL_TRAINING_T
	(C_PERSONNEL_ID INTEGER NOT NULL,
    TRAINING_PROGRAM VARCHAR(50) NOT NULL,
    TRAINING_PROGRAM_COMPLETION_DATE DATE NOT NULL,
    CONSTRAINT CERTIFIED_PERSONNEL_TRAINING_PK PRIMARY KEY (C_PERSONNEL_ID, TRAINING_PROGRAM, TRAINING_PROGRAM_COMPLETION_DATE),
    CONSTRAINT CERTIFIED_PERSONNEL_TRAINING_FK FOREIGN KEY (C_PERSONNEL_ID) REFERENCES CERTIFIED_PERSONNEL_T (C_PERSONNEL_ID));
    
CREATE TABLE SPECIALIZED_LICENSE_T
	(LICENSE_ID VARCHAR(50) NOT NULL,
    C_PERSONNEL_ID INTEGER NOT NULL,
    LICENSE_TYPE VARCHAR(50) NOT NULL,
    LICENSE_ISSUING_AUTHORITY VARCHAR(50) NOT NULL,
    LICENSE_STATUS VARCHAR(25) NOT NULL,
    LICENSE_ISSUANCE_DATE DATE NOT NULL,
    LICENSE_RENEWAL_DATE DATE,
    LICENSE_EXPIRATION_DATE DATE,
    CONSTRAINT SPECIALIZED_LICENSE_CHK CHECK (LICENSE_STATUS = 'ACTIVE' OR LICENSE_STATUS = 'EXPIRED' OR LICENSE_STATUS = 'SUSPENDED' OR LICENSE_STATUS = 'REVOKED'),
    CONSTRAINT SPECIALIZED_LICENSE_PK PRIMARY KEY (C_PERSONNEL_ID, LICENSE_ID),
    CONSTRAINT SPECIALIZED_LICENSE_FK FOREIGN KEY (C_PERSONNEL_ID) REFERENCES CERTIFIED_PERSONNEL_T (C_PERSONNEL_ID));
    
CREATE TABLE USFS_EMPLOYEE_T
	(U_PERSONNEL_ID INTEGER NOT NULL,
    ADMIN_REGION_CODE VARCHAR(2) NOT NULL,
    ADMIN_FOREST_CODE VARCHAR(2) NOT NULL,
    ADMIN_DISTRICT_CODE VARCHAR(2) NOT NULL,
    PAY_GRADE INTEGER NOT NULL,
    EMPLOYEE_STATUS VARCHAR(25) NOT NULL,
    EMPLOYEE_ADDRESS VARCHAR(100) NOT NULL,
    CONSTRAINT USFS_EMPLOYEE_PK PRIMARY KEY (U_PERSONNEL_ID),
    CONSTRAINT USFS_EMPLOYEE_FK FOREIGN KEY (U_PERSONNEL_ID) REFERENCES PERSONNEL_T (P_RESOURCE_ID));

CREATE TABLE SUPPLY_QUANTITY_T
	(S_RESOURCE_ID INTEGER NOT NULL,
    SUPPLY_QUANTITY INTEGER NOT NULL,
    SUPPLY_QUANTITY_UNIT VARCHAR(20) NOT NULL,
    CONSTRAINT SUPPLY_QUANTITY_PK PRIMARY KEY (S_RESOURCE_ID),
    CONSTRAINT SUPPLY_QUANTITY_FK FOREIGN KEY (S_RESOURCE_ID) REFERENCES SUPPLY_T (S_RESOURCE_ID));

INSERT INTO BIOTA_T VALUES (567.20, 'Canis Rufus', 'Red Wolf', 'P');
INSERT INTO BIOTA_T VALUES (379.15, 'Alligator Mississipiensis', 'American Alligator', 'P');
INSERT INTO BIOTA_T VALUES (114.23, 'Lonicera Japonica', 'Japanese Honeysuckle', 'I');
INSERT INTO BIOTA_T VALUES (172.35, 'Acer Platanoides ', 'Norway Maple', 'I');
INSERT INTO BIOTA_T VALUES (116.36, 'Fagus Grandifola', 'American Beech', NULL);

INSERT INTO INVASIVE_PLANT_T VALUES (114.23);
INSERT INTO INVASIVE_PLANT_T VALUES (172.35);

INSERT INTO PROTECTED_WILDLIFE_T VALUES (567.20, 'Endangered');
INSERT INTO PROTECTED_WILDLIFE_T VALUES (379.15, 'Threatened');

INSERT INTO FUEL_TREATMENT_T VALUES (NULL, 1140, 'Fireline Construction');
INSERT INTO FUEL_TREATMENT_T VALUES (NULL, 1113, 'Underburn - Low Intensity (Majority of Unit');

INSERT INTO PARTY_T VALUES (NULL, 'Bureau of Indian Affairs', 'G');
INSERT INTO PARTY_T VALUES (NULL, 'U.S. Fish & Wildlife', 'G');
INSERT INTO PARTY_T VALUES (NULL, 'All Hands & Hearts', 'N');
INSERT INTO PARTY_T VALUES (NULL, '1-A Construction', 'N');
INSERT INTO PARTY_T VALUES (NULL, 'US Forest Service', 'G');
INSERT INTO PARTY_T VALUES (NULL, 'City of Willamette', 'G');

INSERT INTO COORDINATING_UNIT_T VALUES (1, 'Department of Wildfire Management', 'James E. Roland', 123-456-7891, 'jroland@outlook.com');
INSERT INTO COORDINATING_UNIT_T VALUES (2, 'Wildfire Management Program', 'Margaret J. Smith', 123-478-7891, 'msmith23@outlook.com');
INSERT INTO COORDINATING_UNIT_T VALUES (3, 'Wildfire Coordiation Office', 'Maria D. Sanchez', 123-456-7231, 'msanchez41@outlook.com');
INSERT INTO COORDINATING_UNIT_T VALUES (4, 'Operations Office', 'Lee J. Song', 123-246-7891, 'lsong891@outlook.com');
INSERT INTO COORDINATING_UNIT_T VALUES (4, 'Supply Office', 'Jane T. Munoz', 243-456-7891, 'jmunoz3@outlook.com');
INSERT INTO COORDINATING_UNIT_T VALUES (5, 'Wildfire Response Team', 'Jay J. Kingsfield', 353-456-7891, 'jkingsfield2@outlook.com');
UPDATE COORDINATING_UNIT_T SET COORDINATING_UNIT_PHONE_NUMBER = '123-456-7891' WHERE PARTY_ID = 1;
UPDATE COORDINATING_UNIT_T SET COORDINATING_UNIT_PHONE_NUMBER = '123-478-7891' WHERE PARTY_ID = 2;
UPDATE COORDINATING_UNIT_T SET COORDINATING_UNIT_PHONE_NUMBER = '123-456-7231' WHERE PARTY_ID = 3;
UPDATE COORDINATING_UNIT_T SET COORDINATING_UNIT_PHONE_NUMBER = '123-246-7891' WHERE PARTY_ID = 4 AND COORDINATING_UNIT_NAME = 'Operations Office';
UPDATE COORDINATING_UNIT_T SET COORDINATING_UNIT_PHONE_NUMBER = '243-456-7891' WHERE PARTY_ID = 4 AND COORDINATING_UNIT_NAME = 'Supply Office';
UPDATE COORDINATING_UNIT_T SET COORDINATING_UNIT_PHONE_NUMBER = '353-456-7891' WHERE PARTY_ID = 5;

INSERT INTO NON_GOVERNMENT_ORGANIZATION_T VALUES (3, 'Volunteer');
INSERT INTO NON_GOVERNMENT_ORGANIZATION_T VALUES (4, 'Construction');

INSERT INTO GOVERNMENT_ORGANIZATION_T VALUES (1, 'Federal');
INSERT INTO GOVERNMENT_ORGANIZATION_T VALUES (2, 'Federal');
INSERT INTO GOVERNMENT_ORGANIZATION_T VALUES (5, 'Federal');
INSERT INTO GOVERNMENT_ORGANIZATION_T VALUES (6, 'Local');

INSERT INTO FOREST_UNIT_T VALUES ('0111021B51345532122', 'Willamette National Forest', 'BIA', 650, 5, 2, 30, 'Spruce Hemlock', 50, 5.65, 5763, 15, 1.00, 1, 45, 5.61);
INSERT INTO FOREST_UNIT_T VALUES ('011102C325112516791', 'Willamette National Forest', 'FS', 630, 10, 15, 45, 'Mixed Conifer', 98.9, 50.67, 1500, 75, 0.5, 5, 58, 11.93);
UPDATE FOREST_UNIT_T SET OWNERSHIP_NAME = 'Bureau Of Indian Affairs' WHERE FOREST_UNIT_T.FOREST_UNIT_CODE = '0111021B51345532122';
UPDATE FOREST_UNIT_T SET OWNERSHIP_NAME = 'US Forest Service' WHERE FOREST_UNIT_T.FOREST_UNIT_CODE = '011102C325112516791';

INSERT INTO FIRE_DISTURBANCE_T VALUES (1137623, 'Government Fire', 173, '1991-11-27', 1123, 'Natural', 'Natural', 44.1054, 122.1757, 50.0);
INSERT INTO FIRE_DISTURBANCE_T VALUES (1137666, 'Jane Hill', 236, '2022-03-05', '1005', 'Human', 'Fireworks', 45.1167, 123.1783, 10.7);
UPDATE FIRE_DISTURBANCE_T SET DISCOVERY_TIME = '112300' WHERE FIRE_ID = 1137623;
UPDATE FIRE_DISTURBANCE_T SET DISCOVERY_TIME = '100500' WHERE FIRE_ID = 1137666;
UPDATE FIRE_DISTURBANCE_T SET FIRE_NAME = 'Jane Hill Fire' WHERE FIRE_ID = 1137666;
UPDATE FIRE_DISTURBANCE_T SET FIRE_STATUS = 'CONTAINED' WHERE FIRE_ID = 1137623;
UPDATE FIRE_DISTURBANCE_T SET FIRE_STATUS = 'CONTAINED' WHERE FIRE_ID = 1137666;
INSERT INTO FIRE_DISTURBANCE_T VALUES (1372511, 'Wyatt Slopes Fire',353, '2023-11-29', '060000', 'Unknown', 'Unknown', 44.11300, 123.178300, 11, 'UNCONTAINED');

INSERT INTO FOREST_FIRE_T VALUES (1137623, '0111021B51345532122', 100);
INSERT INTO FOREST_FIRE_T VALUES (1137666, '011102C325112516791', 25);
INSERT INTO FOREST_FIRE_T VALUES (1372511, '011102C325112516791', 5);

INSERT INTO FUEL_TREATMENT_HISTORY_T VALUES (NULL, '0111021B51345532122', 1, 'Ongoing', 75, '2023-11-01', NULL);
INSERT INTO FUEL_TREATMENT_HISTORY_T VALUES (NULL, '011102C325112516791', 2, 'Completed', 100, '2023-10-10', '2023-10-11');

INSERT INTO PROTECTED_WILDLIFE_HABITAT_T VALUES (379.15, '0111021B51345532122', 2);
INSERT INTO PROTECTED_WILDLIFE_HABITAT_T VALUES (379.15, '011102C325112516791', 5);

INSERT INTO INVASIVE_PLANT_INFESTATION_T VALUES (13762, 114.23, '0111021B51345532122', 15, 5);
INSERT INTO INVASIVE_PLANT_INFESTATION_T VALUES (14538, 114.23, '011102C325112516791', 50, 75);

INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 113, 'R');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 130, 'F');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 130, 'F');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 113, 'R');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 520, 'S');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 520, 'S');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 520, 'S');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 673, 'E');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 673, 'E');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 237, 'P');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 560, NULL);
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 237, 'P');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 237, 'P');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 237, 'P');
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 237, 'P');
UPDATE FIREFIGHTING_RESOURCE_T SET RESOURCE_CODE = 237  WHERE RESOURCE_ID = 10;
UPDATE FIREFIGHTING_RESOURCE_T SET RESOURCE_CLASSIFICATION = 'P'  WHERE RESOURCE_ID = 10;
UPDATE FIREFIGHTING_RESOURCE_T SET RESOURCE_CODE = 560 WHERE RESOURCE_ID = 11;
UPDATE FIREFIGHTING_RESOURCE_T SET RESOURCE_CLASSIFICATION = NULL  WHERE RESOURCE_ID = 11;
UPDATE FIREFIGHTING_RESOURCE_T SET RESOURCE_CODE = 237 WHERE RESOURCE_ID = 12;
UPDATE FIREFIGHTING_RESOURCE_T SET RESOURCE_CODE = 237 WHERE RESOURCE_ID = 13;
UPDATE FIREFIGHTING_RESOURCE_T SET RESOURCE_CODE = 237 WHERE RESOURCE_ID = 14;
INSERT INTO FIREFIGHTING_RESOURCE_T VALUES (NULL, 237, 'P');

INSERT INTO FOREST_RESOURCE_T VALUES ('0111021B51345532122', 5);
INSERT INTO FOREST_RESOURCE_T VALUES ('0111021B51345532122', 2);
INSERT INTO FOREST_RESOURCE_T VALUES ('011102C325112516791', 3);

INSERT INTO GOVERNMENT_RESOURCE_T VALUES (5, 1);
INSERT INTO GOVERNMENT_RESOURCE_T VALUES (5, 2);
INSERT INTO GOVERNMENT_RESOURCE_T VALUES (5, 3);
INSERT INTO GOVERNMENT_RESOURCE_T VALUES (5, 4);
INSERT INTO GOVERNMENT_RESOURCE_T VALUES (5, 5);
INSERT INTO GOVERNMENT_RESOURCE_T VALUES (5, 6);
INSERT INTO GOVERNMENT_RESOURCE_T VALUES (5, 8);
INSERT INTO GOVERNMENT_RESOURCE_T VALUES (5, 9);
INSERT INTO GOVERNMENT_RESOURCE_T VALUES (5, 10);
INSERT INTO GOVERNMENT_RESOURCE_T VALUES (5, 11);
INSERT INTO GOVERNMENT_RESOURCE_T VALUES (1, 14);
INSERT INTO GOVERNMENT_RESOURCE_T VALUES (6, 16);

INSERT INTO FOREST_MANAGEMENT_T VALUES (5, '011102C325112516791');
INSERT INTO FOREST_MANAGEMENT_T VALUES (1, '0111021B51345532122');

INSERT INTO ROAD_T VALUES (1, 'Forest Road 37', 'Forest Arterial Road', 2, 'C', 'Open');
INSERT INTO ROAD_T VALUES (4, 'Forest Road 43', 'Classified Road', 4, 'A', 'Open');

INSERT INTO FACILITY_T VALUES (2, 'Willamette Observation Center', 'Research Center', '234 Forest Road 52, Willamette National Park, Willamette, OR 97068', '543-235-0987', 'Research'); 
INSERT INTO FACILITY_T VALUES (3, 'High Peak Rangers Office', 'Outpost', '234 Forest Road 63, Willamette National Park, Willamette, OR 97068', '236-987-0987', 'Ranger Support');

INSERT INTO REGULAR_FACILITY_OPERATION_TIME_T VALUES (2, 'MONDAY', '080000', '160000');
INSERT INTO REGULAR_FACILITY_OPERATION_TIME_T VALUES (2, 'TUESDAY', '080000', '160000');
INSERT INTO REGULAR_FACILITY_OPERATION_TIME_T VALUES (2, 'WEDNESDAY', '080000', '160000');
INSERT INTO REGULAR_FACILITY_OPERATION_TIME_T VALUES (3, 'MONDAY', '000000', '115900');
INSERT INTO REGULAR_FACILITY_OPERATION_TIME_T VALUES (3, 'TUESDAY', '000000', '115900');
INSERT INTO REGULAR_FACILITY_OPERATION_TIME_T VALUES (3, 'WEDNESDAY', '000000', '115900');
UPDATE REGULAR_FACILITY_OPERATION_TIME_T SET REGULAR_FACILITY_CLOSING_TIME = '235900' WHERE F_RESOURCE_ID = 3;

INSERT INTO HOLIDAY_FACILITY_OPERATION_TIME_T VALUES (3, '2024-11-23', '000000', '235900'); 
INSERT INTO HOLIDAY_FACILITY_OPERATION_TIME_T VALUES (3, '2023-12-25', '000000', '235900');
INSERT INTO HOLIDAY_FACILITY_OPERATION_TIME_T VALUES (3, '2024-12-25', '000000', '235900');

INSERT INTO CONTRACT_T VALUES ('117A56789', 12, 3, 'Participating Agreement', NULL, '2023-08-23', '2024-08-23');
INSERT INTO CONTRACT_T VALUES ('236B53385', 13, 3, 'Participating Agreement', NULL, '2023-05-06', '2024-05-06');
INSERT INTO CONTRACT_T VALUES ('756C3218', 7, 4, 'Service Contract', 'Hourly_Rate', '2022-09-15', '2024-09-15');
INSERT INTO CONTRACT_T VALUES ('236B53385', 15, 4, 'Service Contract', 'Hourly_Rate', '2022-09-15', '2024-09-15');

INSERT INTO SUPPLY_T VALUES (5, 'Water', 'Natural', 'Big Lake');
INSERT INTO SUPPLY_T VALUES (6, 'Fire Suppressant', 'Organization', 'Room 232, 1234 5th St, Willamette, OR 97068');
INSERT INTO SUPPLY_T VALUES (16, 'Water', 'Organization', 'Willamette Municipal Water Supply');

INSERT INTO SUPPLY_QUANTITY_T VALUES (5, 1000000, 'gallons');
INSERT INTO SUPPLY_QUANTITY_T VALUES (6, 500, 'gallons');
INSERT INTO SUPPLY_QUANTITY_T VALUES (16, 20000, 'gallons');

INSERT INTO WEATHER_T VALUES ('0111021B51345532122', '2023-11-15', '115300', 78.5, 1.67, 12);
INSERT INTO WEATHER_T VALUES ('0111021B51345532122', '2023-11-29', '040000', 69.7, 0.35, 3); 
INSERT INTO WEATHER_T VALUES ('011102C325112516791', '2023-11-15', '143000', 79.2, 1.98, 2);
INSERT INTO WEATHER_T VALUES ('011102C325112516791', '2023-11-29', '103600', 71.3, 0.5, 6);

INSERT INTO EQUIPMENT_T VALUES (7, '1789BC876', 17, 'Bulldozer', 75000, 'Operational', 'Warehouse 13, 2456 6th St., Willamette, OR 97068');
INSERT INTO EQUIPMENT_T VALUES (8, '23954C48B783', 2356, 'Helicopter', 24000000, 'Operational', 'Hanger 1, 31 Industrial Dr., Willamette, OR 97068'); 

INSERT INTO PERSONNEL_T VALUES (9, 'John K. Smith', 'Firefighter', '123 Forest Lane, Willamette, OR 97068', 'Y', 'N', 'Y', 14);
INSERT INTO PERSONNEL_T VALUES (10, 'Alice D. Rockefeller', 'Firefighter', 'Apt 2, 45 10th Avenue, Willamette, OR 97068', 'Y', 'N', 'N', 14);
INSERT INTO PERSONNEL_T VALUES (12, 'Darian L. Jackson', 'Ranger', '65 Tall Acres Rd, Willamette, OR 97068', 'N', 'N', 'Y', 14);
INSERT INTO PERSONNEL_T VALUES (13, 'Sulin J. Singh', 'Nurse', '4305 College Rd., Willamette, OR 97068', 'N', 'Y', 'N', 14);
INSERT INTO PERSONNEL_T VALUES (14, 'Abraham P. Anderson', 'Fire Manager', '765 Ashton Circle, Willamette, OR 97068', 'Y', 'N', 'N', NULL);
INSERT INTO PERSONNEL_T VALUES (15, ' Phillip A. Stone', 'Heavy Equipment Operator', '526 Makeshift Ave., Willamette, OR 97068', 'N', 'Y', 'N', 14);
UPDATE PERSONNEL_T SET PERSONNEL_BASE_OF_OPERATIONS = 'Willamette, OR' WHERE P_RESOURCE_ID = 9;
UPDATE PERSONNEL_T SET PERSONNEL_BASE_OF_OPERATIONS = 'Willamette, OR' WHERE P_RESOURCE_ID = 10;
UPDATE PERSONNEL_T SET PERSONNEL_BASE_OF_OPERATIONS = 'Willamette, OR' WHERE P_RESOURCE_ID = 12;
UPDATE PERSONNEL_T SET PERSONNEL_BASE_OF_OPERATIONS = 'Willamette, OR' WHERE P_RESOURCE_ID = 13;
UPDATE PERSONNEL_T SET PERSONNEL_BASE_OF_OPERATIONS = 'Willamette, OR' WHERE P_RESOURCE_ID = 14;
UPDATE PERSONNEL_T SET PERSONNEL_BASE_OF_OPERATIONS = 'Willamette, OR' WHERE P_RESOURCE_ID = 15;

INSERT INTO PERSONNEL_EMAIL_T VALUES (9, 'jsmith678@outlook.com');
INSERT INTO PERSONNEL_EMAIL_T VALUES (10, 'arockefeller21@outlook.com');
INSERT INTO PERSONNEL_EMAIL_T VALUES (12, 'djackson76@gmail.com');
INSERT INTO PERSONNEL_EMAIL_T VALUES (13, 'ssingh@outlook.com');
INSERT INTO PERSONNEL_EMAIL_T VALUES (14, 'aanderson7891@outlook.com');
INSERT INTO PERSONNEL_EMAIL_T VALUES (15, 'pstone67@outlook.com');
INSERT INTO PERSONNEL_EMAIL_T VALUES (14, 'aanderson54@gmail.com');

INSERT INTO PERSONNEL_PHONE_NUMBER_T VALUES (9, '258-897-6523');
INSERT INTO PERSONNEL_PHONE_NUMBER_T VALUES (10, '586-852-4125');
INSERT INTO PERSONNEL_PHONE_NUMBER_T VALUES (12, '562-852-3214');
INSERT INTO PERSONNEL_PHONE_NUMBER_T VALUES (13, '457-852-5147');
INSERT INTO PERSONNEL_PHONE_NUMBER_T VALUES (14, '326-526-9856');
INSERT INTO PERSONNEL_PHONE_NUMBER_T VALUES (15, '258-896-3214');
INSERT INTO PERSONNEL_PHONE_NUMBER_T VALUES (14, '582-852-6523');

INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (9, 'MONDAY', '060000', '180000');
INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (9, 'TUESDAY', '060000', '180000');
INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (10, 'MONDAY', '180000', '060000');
INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (10, 'TUESDAY', '180000', '060000');
INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (12, 'MONDAY', '080000', '160000');
INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (12, 'TUESDAY', '080000', '160000');
INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (13, 'MONDAY', '080000', '200000');
INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (13, 'TUESDAY', '080000', '200000');
INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (14, 'MONDAY', '060000', '180000');
INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (14, 'TUESDAY', '060000', '180000');
INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (15, 'MONDAY', '080000', '160000');
INSERT INTO PERSONNEL_SEASONAL_AVAILABILITY_T VALUES (15, 'TUESDAY', '080000', '160000');

INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (9, 'MONDAY', '080000', '160000');
INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (9, 'TUESDAY', '080000', '160000');
INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (10, 'MONDAY', '160000', '000000');
INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (10, 'TUESDAY', '160000', '000000');
INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (12, 'MONDAY', '080000', '160000');
INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (12, 'TUESDAY', '080000', '160000');
INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (13, 'MONDAY', '080000', '160000');
INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (13, 'TUESDAY', '080000', '160000');
INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (14, 'MONDAY', '080000', '160000');
INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (14, 'TUESDAY', '080000', '160000');
INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (15, 'MONDAY', '080000', '160000');
INSERT INTO PERSONNEL_OFF_SEASON_AVAILABILITY_T VALUES (15, 'TUESDAY', '080000', '160000');

INSERT INTO PERSONNEL_HOLIDAY_AVAILABILITY_T VALUES (9, '2023-12-25', '080000', '160000');
INSERT INTO PERSONNEL_HOLIDAY_AVAILABILITY_T VALUES (10, '2023-12-25', '160000', '000000');
INSERT INTO PERSONNEL_HOLIDAY_AVAILABILITY_T VALUES (14, '2023-12-25', '080000', '160000');

INSERT INTO FIRE_PERSONNEL_T VALUES (9, 'Lieutenant', 8);
INSERT INTO FIRE_PERSONNEL_T VALUES (10, 'Volunteer Firefighter', 2);
INSERT INTO FIRE_PERSONNEL_T VALUES (14, 'Fire Chief', 25);

INSERT INTO NWCG_QUALIFICATION_T VALUES (14, 'DIVS', '2003-10-21');
INSERT INTO NWCG_QUALIFICATION_T VALUES (14, 'ICT3', '2005-05-03');
INSERT INTO NWCG_QUALIFICATION_T VALUES (10, 'FFT1', '2018-03-15');
INSERT INTO NWCG_QUALIFICATION_T VALUES (9, 'FFT1', '2021-06-28');

INSERT INTO CERTIFIED_PERSONNEL_T VALUES (13);
INSERT INTO CERTIFIED_PERSONNEL_T VALUES (15);

INSERT INTO CERTIFIED_PERSONNEL_CERTIFICATION_T VALUES (15, 'OSHA Safety Certification', '2020-03-19');
INSERT INTO CERTIFIED_PERSONNEL_CERTIFICATION_T VALUES (15, 'Certified Equipment Operator', '2018-05-27');

INSERT INTO CERTIFIED_PERSONNEL_TRAINING_T VALUES (13, 'Wildfire Smoke and Public Health', '2022-04-28');
INSERT INTO CERTIFIED_PERSONNEL_TRAINING_T VALUES (13, 'Wildfire Fire STAR - Medical', '2023-01-13');

INSERT INTO SPECIALIZED_LICENSE_T VALUES ('136278AB3', 13, 'Nursing', 'State - OR', 'Active', '2017-11-23', '2023-11-23', '2025-11-23');
INSERT INTO SPECIALIZED_LICENSE_T VALUES ('2356AB32', 15, 'Drivers - Class C', 'State - OR', 'Active', '2021-08-03', NULL, '2026-08-03');

INSERT INTO USFS_EMPLOYEE_T VALUES (9, 11, 23, 56, 6, 'Active', '123 Forest Lane, Willamette, OR 97068');
INSERT INTO USFS_EMPLOYEE_T VALUES (12, 11, 23, 56, 10, 'Active', '65 Tall Acres Rd, Willamette, OR 97068');
DELETE FROM USFS_EMPLOYEE_T WHERE U_PERSONNEL_ID = 14;

INSERT INTO FIRE_CONTAINMENT_PROCEDURE_T VALUES (1137623, 5, 5, '1991-11-27', '131500', 250.00);
INSERT INTO FIRE_CONTAINMENT_PROCEDURE_T VALUES (1137666, 5, 5, '2022-03-05', '160000', 340.00);
INSERT INTO FIRE_CONTAINMENT_PROCEDURE_T VALUES (1137666, 1, 14, '2022-03-05', '120300', 395.00);

SELECT FOREST_UNIT_T.FOREST_UNIT_CODE, OWNERSHIP_NAME, COORDINATING_UNIT_NAME, COORDINATING_UNIT_CONTACT, 
COORDINATING_UNIT_PHONE_NUMBER, COORDINATING_UNIT_EMAIL, 
SUM((PRECIPITATION_SEASONALITY * 0.223) + (IMPERVIOUSNESS * 0.077) + ((1/DISTANCE_TO_ROADS)* 0.06) + ((1/PRECIPITATION) * 0.053) + ((1/DISTANCE_TO_SETTLEMENTS)*0.028)
 + (WIND_SPEED * 0.085) + (TEMPERATURE * 0.053)) AS RISK_LEVEL
FROM FOREST_UNIT_T, WEATHER_T, COORDINATING_UNIT_T, PARTY_T
WHERE COLLECTION_DATE = '2023-11-29' AND FOREST_UNIT_T.FOREST_UNIT_CODE = WEATHER_T.FOREST_UNIT_CODE AND PARTY_T.PARTY_NAME = OWNERSHIP_NAME
AND PARTY_T.PARTY_ID = COORDINATING_UNIT_T.PARTY_ID
GROUP BY FOREST_UNIT_T.FOREST_UNIT_CODE, OWNERSHIP_NAME, COORDINATING_UNIT_NAME, COORDINATING_UNIT_CONTACT, 
COORDINATING_UNIT_PHONE_NUMBER, COORDINATING_UNIT_EMAIL
ORDER BY FOREST_UNIT_T.FOREST_UNIT_CODE;

SELECT FACILITY_NAME, FACILITY_TYPE, FACILITY_ADDRESS, FACILITY_FRONT_DESK_PHONE_NUMBER, FACILITY_USE, REGULAR_FACILTIY_OPENING_TIME, REGULAR_FACILITY_CLOSING_TIME
FROM FACILITY_T, REGULAR_FACILITY_OPERATION_TIME_T, FOREST_FIRE_T, FOREST_RESOURCE_T, FIRE_DISTURBANCE_T
WHERE RF_DAY_OF_THE_WEEK = 'WEDNESDAY' AND FACILITY_T.F_RESOURCE_ID = REGULAR_FACILITY_OPERATION_TIME_T.F_RESOURCE_ID
AND FACILITY_T.F_RESOURCE_ID = FOREST_RESOURCE_T.RESOURCE_ID AND FOREST_RESOURCE_T.FOREST_UNIT_CODE = FOREST_FIRE_T.FOREST_UNIT_CODE 
AND FOREST_FIRE_T.FIRE_ID = FIRE_DISTURBANCE_T.FIRE_ID AND FIRE_STATUS = 'UNCONTAINED'
ORDER BY FACILITY_NAME;

SELECT FOREST_UNIT_T.FOREST_UNIT_CODE, INFESTATION_ID, COMMON_NAME, INFESTED_AREA_PERCENTAGE
FROM FOREST_UNIT_T, INVASIVE_PLANT_T, INVASIVE_PLANT_INFESTATION_T, BIOTA_T
WHERE INVASIVE_PLANT_INFESTATION_T.IP_BIOTA_CODE = INVASIVE_PLANT_T.IP_BIOTA_CODE AND BIOTA_T.BIOTA_CODE = INVASIVE_PLANT_T.IP_BIOTA_CODE
AND INVASIVE_PLANT_INFESTATION_T.FOREST_UNIT_CODE = FOREST_UNIT_T.FOREST_UNIT_CODE
ORDER BY FOREST_UNIT_T.FOREST_UNIT_CODE;

SELECT FIRE_CONTAINMENT_PROCEDURE_T.FIRE_ID, SUM(PROCEDURE_COST) AS TOTAL_COST_OF_FIRE
FROM FIRE_CONTAINMENT_PROCEDURE_T
WHERE FIRE_CONTAINMENT_PROCEDURE_T.FIRE_ID = 1137666
GROUP BY FIRE_CONTAINMENT_PROCEDURE_T.FIRE_ID;

SELECT F_PERSONNEL_ID, PERSONNEL_NAME, PERSONNEL_POSITION, FP_RANK, PERSONNEL_BASE_OF_OPERATIONS, PERSONNEL_PHONE_NUMBER, PERSONNEL_EMAIL
FROM FIRE_PERSONNEL_T, PERSONNEL_T, PERSONNEL_PHONE_NUMBER_T, PERSONNEL_EMAIL_T
WHERE FIRE_PERSONNEL_T.F_PERSONNEL_ID = PERSONNEL_T.P_RESOURCE_ID AND PERSONNEL_T.P_RESOURCE_ID = PERSONNEL_PHONE_NUMBER_T.P_RESOURCE_ID
AND PERSONNEL_T.P_RESOURCE_ID = PERSONNEL_EMAIL_T.P_RESOURCE_ID
ORDER BY PERSONNEL_NAME;
 
SELECT * FROM BIOTA_T;
SELECT * FROM INVASIVE_PLANT_T;    
SELECT * FROM PROTECTED_WILDLIFE_T;       
SELECT * FROM FUEL_TREATMENT_T;     
SELECT * FROM PARTY_T;      
SELECT * FROM COORDINATING_UNIT_T;
SELECT * FROM NON_GOVERNMENT_ORGANIZATION_T;
SELECT * FROM GOVERNMENT_ORGANIZATION_T;
SELECT * FROM FOREST_UNIT_T;
SELECT * FROM FIRE_DISTURBANCE_T;
SELECT * FROM FOREST_FIRE_T;
SELECT * FROM FUEL_TREATMENT_HISTORY_T;
SELECT * FROM PROTECTED_WILDLIFE_HABITAT_T;
SELECT * FROM INVASIVE_PLANT_INFESTATION_T;
SELECT * FROM FIREFIGHTING_RESOURCE_T;
SELECT * FROM FOREST_RESOURCE_T;
SELECT * FROM GOVERNMENT_RESOURCE_T;
SELECT * FROM FOREST_MANAGEMENT_T;
SELECT * FROM ROAD_T;
SELECT * FROM FACILITY_T;
SELECT * FROM REGULAR_FACILITY_OPERATION_TIME_T;
SELECT * FROM HOLIDAY_FACILITY_OPERATION_TIME_T;
SELECT * FROM CONTRACT_T;
SELECT * FROM SUPPLY_T;
SELECT * FROM SUPPLY_QUANTITY_T;
SELECT * FROM WEATHER_T;
SELECT * FROM EQUIPMENT_T;
SELECT * FROM PERSONNEL_T;
SELECT * FROM PERSONNEL_EMAIL_T;
SELECT * FROM PERSONNEL_PHONE_NUMBER_T;
SELECT * FROM PERSONNEL_SEASONAL_AVAILABILITY_T;
SELECT * FROM PERSONNEL_OFF_SEASON_AVAILABILITY_T;
SELECT * FROM PERSONNEL_HOLIDAY_AVAILABILITY_T;
SELECT * FROM FIRE_PERSONNEL_T;
SELECT * FROM NWCG_QUALIFICATION_T;
SELECT * FROM CERTIFIED_PERSONNEL_T;
SELECT * FROM CERTIFIED_PERSONNEL_CERTIFICATION_T;
SELECT * FROM CERTIFIED_PERSONNEL_TRAINING_T;
SELECT * FROM SPECIALIZED_LICENSE_T;
SELECT * FROM USFS_EMPLOYEE_T;
SELECT * FROM FIRE_CONTAINMENT_PROCEDURE_T;
